using Microsoft.EntityFrameworkCore;
using Pustok.App.Models;

namespace Pustok.App.DAL.Context
{
    public class PustokDbContext(DbContextOptions<PustokDbContext> options) : DbContext(options)
    {
        protected override void OnModelCreating(ModelBuilder modelBuilder)
        {
            base.OnModelCreating(modelBuilder);

            // Seed Authors
            modelBuilder.Entity<Author>().HasData(
                new Author { Id = 1, Name = "J.K. Rowling" },
                new Author { Id = 2, Name = "George R.R. Martin" },
                new Author { Id = 3, Name = "J.R.R. Tolkien" },
                new Author { Id = 4, Name = "Stephen King" },
                new Author { Id = 5, Name = "Agatha Christie" },
                new Author { Id = 6, Name = "Dan Brown" },
                new Author { Id = 7, Name = "Jane Austen" },
                new Author { Id = 8, Name = "Mark Twain" },
                new Author { Id = 9, Name = "Ernest Hemingway" },
                new Author { Id = 10, Name = "F. Scott Fitzgerald" },
                new Author { Id = 11, Name = "Leo Tolstoy" },
                new Author { Id = 12, Name = "Charles Dickens" }
            );

            // Seed Genres
            modelBuilder.Entity<Genre>().HasData(
                new Genre { Id = 1, Name = "Fantasy" },
                new Genre { Id = 2, Name = "Adventure" },
                new Genre { Id = 3, Name = "Drama" },
                new Genre { Id = 4, Name = "Mystery" },
                new Genre { Id = 5, Name = "Thriller" },
                new Genre { Id = 6, Name = "Romance" },
                new Genre { Id = 7, Name = "Classic" },
                new Genre { Id = 8, Name = "Science Fiction" },
                new Genre { Id = 9, Name = "Horror" },
                new Genre { Id = 10, Name = "Historical" }
            );

            // Seed Books
            modelBuilder.Entity<Book>().HasData(
                new Book {
                    Id = 1,
                    Title = "Harry Potter and the Philosopher's Stone",
                    Description = "A young wizard's journey begins.",
                    Price = 19.99m,
                    DiscountPercentage = 0,
                    IsFeatured = true,
                    IsNew = true,
                    Code = "HP1",
                    AuthorId = 1,
                    GenreId = 1,
                    MainImageUrl = "/assets/image/book1.jpg",
                    HoverImageUrl = "/assets/image/book1_hover.jpg",
                    CreatedAt = new DateTime(2024, 1, 1)
                },
                new Book {
                    Id = 2,
                    Title = "A Game of Thrones",
                    Description = "The first book in A Song of Ice and Fire.",
                    Price = 24.99m,
                    DiscountPercentage = 10,
                    IsFeatured = true,
                    IsNew = false,
                    Code = "GOT1",
                    AuthorId = 2,
                    GenreId = 1,
                    MainImageUrl = "/assets/image/book2.jpg",
                    HoverImageUrl = "/assets/image/book2_hover.jpg",
                    CreatedAt = new DateTime(2024, 1, 2)
                },
                new Book {
                    Id = 3,
                    Title = "The Hobbit",
                    Description = "A hobbit's adventure to the Lonely Mountain.",
                    Price = 15.99m,
                    DiscountPercentage = 5,
                    IsFeatured = false,
                    IsNew = true,
                    Code = "HOBBIT",
                    AuthorId = 3,
                    GenreId = 2,
                    MainImageUrl = "/assets/image/book3.jpg",
                    HoverImageUrl = "/assets/image/book3_hover.jpg",
                    CreatedAt = new DateTime(2024, 1, 3)
                },
                new Book {
                    Id = 4,
                    Title = "The Shining",
                    Description = "A family heads to an isolated hotel for the winter.",
                    Price = 18.99m,
                    DiscountPercentage = 15,
                    IsFeatured = false,
                    IsNew = false,
                    Code = "SHINING",
                    AuthorId = 4,
                    GenreId = 9,
                    MainImageUrl = "/assets/image/book4.jpg",
                    HoverImageUrl = "/assets/image/book4_hover.jpg",
                    CreatedAt = new DateTime(2024, 1, 4)
                },
                new Book {
                    Id = 5,
                    Title = "Murder on the Orient Express",
                    Description = "A detective investigates a murder on a train.",
                    Price = 14.99m,
                    DiscountPercentage = 0,
                    IsFeatured = true,
                    IsNew = false,
                    Code = "MOTOE",
                    AuthorId = 5,
                    GenreId = 4,
                    MainImageUrl = "/assets/image/book5.jpg",
                    HoverImageUrl = "/assets/image/book5_hover.jpg",
                    CreatedAt = new DateTime(2024, 1, 5)
                },
                new Book {
                    Id = 6,
                    Title = "The Da Vinci Code",
                    Description = "A symbologist uncovers a religious mystery.",
                    Price = 21.99m,
                    DiscountPercentage = 20,
                    IsFeatured = false,
                    IsNew = true,
                    Code = "DAVINCI",
                    AuthorId = 6,
                    GenreId = 5,
                    MainImageUrl = "/assets/image/book6.jpg",
                    HoverImageUrl = "/assets/image/book6_hover.jpg",
                    CreatedAt = new DateTime(2024, 1, 6)
                },
                new Book {
                    Id = 7,
                    Title = "Pride and Prejudice",
                    Description = "A classic romance novel.",
                    Price = 12.99m,
                    DiscountPercentage = 0,
                    IsFeatured = true,
                    IsNew = false,
                    Code = "PRIDE",
                    AuthorId = 7,
                    GenreId = 6,
                    MainImageUrl = "/assets/image/book7.jpg",
                    HoverImageUrl = "/assets/image/book7_hover.jpg",
                    CreatedAt = new DateTime(2024, 1, 7)
                },
                new Book {
                    Id = 8,
                    Title = "The Adventures of Tom Sawyer",
                    Description = "A boy's adventures along the Mississippi River.",
                    Price = 13.99m,
                    DiscountPercentage = 0,
                    IsFeatured = false,
                    IsNew = true,
                    Code = "TOMSAWYER",
                    AuthorId = 8,
                    GenreId = 2,
                    MainImageUrl = "/assets/image/book8.jpg",
                    HoverImageUrl = "/assets/image/book8_hover.jpg",
                    CreatedAt = new DateTime(2024, 1, 8)
                },
                new Book {
                    Id = 9,
                    Title = "The Old Man and the Sea",
                    Description = "A story of an aging fisherman's struggle.",
                    Price = 11.99m,
                    DiscountPercentage = 0,
                    IsFeatured = false,
                    IsNew = false,
                    Code = "OLDMANSEA",
                    AuthorId = 9,
                    GenreId = 3,
                    MainImageUrl = "/assets/image/book9.jpg",
                    HoverImageUrl = "/assets/image/book9_hover.jpg",
                    CreatedAt = new DateTime(2024, 1, 9)
                },
                new Book {
                    Id = 10,
                    Title = "The Great Gatsby",
                    Description = "A mysterious millionaire's tragic pursuit of love.",
                    Price = 16.99m,
                    DiscountPercentage = 0,
                    IsFeatured = true,
                    IsNew = false,
                    Code = "GATSBY",
                    AuthorId = 10,
                    GenreId = 7,
                    MainImageUrl = "/assets/image/book10.jpg",
                    HoverImageUrl = "/assets/image/book10_hover.jpg",
                    CreatedAt = new DateTime(2024, 1, 10)
                }
            );

            // Seed BookImages
            modelBuilder.Entity<BookImage>().HasData(
                new BookImage { Id = 1, BookId = 1, ImageUrl = "/assets/image/book1_1.jpg" },
                new BookImage { Id = 2, BookId = 1, ImageUrl = "/assets/image/book1_2.jpg" },
                new BookImage { Id = 3, BookId = 2, ImageUrl = "/assets/image/book2_1.jpg" },
                new BookImage { Id = 4, BookId = 3, ImageUrl = "/assets/image/book3_1.jpg" },
                new BookImage { Id = 5, BookId = 4, ImageUrl = "/assets/image/book4_1.jpg" },
                new BookImage { Id = 6, BookId = 5, ImageUrl = "/assets/image/book5_1.jpg" },
                new BookImage { Id = 7, BookId = 6, ImageUrl = "/assets/image/book6_1.jpg" },
                new BookImage { Id = 8, BookId = 7, ImageUrl = "/assets/image/book7_1.jpg" },
                new BookImage { Id = 9, BookId = 8, ImageUrl = "/assets/image/book8_1.jpg" },
                new BookImage { Id = 10, BookId = 9, ImageUrl = "/assets/image/book9_1.jpg" },
                new BookImage { Id = 11, BookId = 10, ImageUrl = "/assets/image/book10_1.jpg" }
            );
        }
        public DbSet<Slider> Sliders { get; set; }
        public DbSet<Book> Books { get; set; }
        public DbSet<BookImage> BookImages { get; set; }
        public DbSet<Author> Authors { get; set; }
        public DbSet<Genre> Genres { get; set; }
    }
}
